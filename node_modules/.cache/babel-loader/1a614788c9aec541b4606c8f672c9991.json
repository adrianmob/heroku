{"ast":null,"code":"var _jsxFileName = \"/Users/adrian/Desktop/heroku/src/components/user/Password/Password.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { useStyles } from \"../../../hooks/useStyle\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { Alerta } from \"../Alerta\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport validator from \"validator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Password = () => {\n  _s();\n\n  const {\n    host,\n    email\n  } = useSelector(state => state.registro);\n  const history = useHistory();\n  const classes = useStyles();\n  const [errors, setErrors] = useState({});\n  const [{\n    open,\n    message,\n    emoji,\n    success\n  }, setOpen] = useState({\n    open: false,\n    message: \"\",\n    emoji: \"\",\n    success: false\n  });\n  const [{\n    password,\n    rePassword\n  }, handleChange] = useForm({\n    password: \"\",\n    rePassword: \"\"\n  });\n\n  const handleClose = () => {\n    setOpen({\n      open: false,\n      message: \"\",\n      emoji: \"\",\n      success: false\n    });\n    if (success) history.push(\"/auth/user/login\");\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const errors = validForm();\n\n    if (Object.keys(errors).length === 0) {\n      if (password === rePassword) {\n        try {\n          const {\n            data\n          } = await axios.post(\"https://kikoya-portal.herokuapp.com/api/v1/user/create_new_password/\", {\n            host: \"sandbox001369cd406f49aa875bd8f230a0de80.mailgun.org\",\n            email: \"adrianquiroz@kikoya.io\",\n            password\n          });\n          if (data.valid) updAlerta(\"Se creo tu contraseña con éxito.\", \"✅\", true);\n        } catch (error) {\n          console.log(error.response);\n          updAlerta(\"Algo salio mal en el servidor\", \"⚠️\");\n        }\n      } else {\n        updAlerta(\"La confirmación no coincide con la contraseña.\", \"⛔\");\n      }\n    } else {\n      updAlerta(errors.password, \"⛔\");\n    }\n  };\n\n  const updAlerta = (message, emoji, success = false) => {\n    setOpen({\n      open: true,\n      message,\n      emoji,\n      success\n    });\n  };\n\n  const validForm = () => {\n    setErrors({});\n    let errors = {};\n    let expreg = /^(?=.*[!@#$%^&*()--__+.])(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{6,12}$/;\n    if (!expreg.test(password)) errors.password = `Se requiere un formato de:\n         1 mayúscula. \n         1 minúscula, \n         1 carácter especial \n         una longitud mínima de 6 y máxima de 12`;\n    setErrors(errors);\n    return errors;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registro__container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registro__form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"titulo\",\n          children: \"Crea tu contrase\\xF1a \\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"informacion_parrafo\",\n          children: \"Recuerda que tu contrase\\xF1a debe tener m\\xEDnimo 8 d\\xEDgitos.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"registro__containerInput\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"registro__input\",\n            label: \"Contrase\\xF1a\",\n            name: \"password\",\n            type: \"password\",\n            value: password,\n            onChange: handleChange,\n            onKeyUp: validForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"registro__containerInput\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"registro__input\",\n            label: \"Repetir contrase\\xF1a\",\n            name: \"rePassword\",\n            type: \"password\",\n            value: rePassword,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"12px\",\n              color: \"red\"\n            },\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          className: classes.primary,\n          style: {\n            width: \"100%\",\n            display: \"block\",\n            padding: \"15px 0\",\n            margin: \"15px 0\",\n            maxWidth: \"400px\"\n          },\n          type: \"submit\",\n          children: \"FINALIZAR REGISTRO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"capaLogo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Alerta, {\n      open: open,\n      message: message,\n      emoji: emoji,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Password, \"1qCZ0WI6fcKWupNeybuzltJojcM=\", false, function () {\n  return [useSelector, useHistory, useStyles, useForm];\n});\n\n_c = Password;\n\nvar _c;\n\n$RefreshReg$(_c, \"Password\");","map":{"version":3,"sources":["/Users/adrian/Desktop/heroku/src/components/user/Password/Password.js"],"names":["React","useState","TextField","Button","useStyles","useForm","Alerta","useHistory","axios","useSelector","validator","Password","host","email","state","registro","history","classes","errors","setErrors","open","message","emoji","success","setOpen","password","rePassword","handleChange","handleClose","push","handleSubmit","e","preventDefault","validForm","Object","keys","length","data","post","valid","updAlerta","error","console","log","response","expreg","test","fontSize","color","primary","width","display","padding","margin","maxWidth"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,mBAAlC;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,SAAP,MAAsB,WAAtB;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkBJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,QAAlB,CAAnC;AAEA,QAAMC,OAAO,GAAGT,UAAU,EAA1B;AACA,QAAMU,OAAO,GAAGb,SAAS,EAAzB;AACA,QAAM,CAACc,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC;AAAEmB,IAAAA,IAAF;AAAQC,IAAAA,OAAR;AAAiBC,IAAAA,KAAjB;AAAwBC,IAAAA;AAAxB,GAAD,EAAoCC,OAApC,IAA+CvB,QAAQ,CAAC;AAC5DmB,IAAAA,IAAI,EAAE,KADsD;AAE5DC,IAAAA,OAAO,EAAE,EAFmD;AAG5DC,IAAAA,KAAK,EAAE,EAHqD;AAI5DC,IAAAA,OAAO,EAAE;AAJmD,GAAD,CAA7D;AAOA,QAAM,CAAC;AAAEE,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,EAA2BC,YAA3B,IAA2CtB,OAAO,CAAC;AACvDoB,IAAAA,QAAQ,EAAE,EAD6C;AAEvDC,IAAAA,UAAU,EAAE;AAF2C,GAAD,CAAxD;;AAKA,QAAME,WAAW,GAAG,MAAM;AACxBJ,IAAAA,OAAO,CAAC;AACNJ,MAAAA,IAAI,EAAE,KADA;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,OAAO,EAAE;AAJH,KAAD,CAAP;AAOA,QAAIA,OAAJ,EAAaP,OAAO,CAACa,IAAR,CAAa,kBAAb;AACd,GATD;;AAWA,QAAMC,YAAY,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMd,MAAM,GAAGe,SAAS,EAAxB;;AACA,QAAIC,MAAM,CAACC,IAAP,CAAYjB,MAAZ,EAAoBkB,MAApB,KAA+B,CAAnC,EAAsC;AACpC,UAAIX,QAAQ,KAAKC,UAAjB,EAA6B;AAC3B,YAAI;AACF,gBAAM;AAAEW,YAAAA;AAAF,cAAW,MAAM7B,KAAK,CAAC8B,IAAN,CACrB,sEADqB,EAErB;AACE1B,YAAAA,IAAI,EAAE,qDADR;AAEEC,YAAAA,KAAK,EAAE,wBAFT;AAGEY,YAAAA;AAHF,WAFqB,CAAvB;AAQA,cAAIY,IAAI,CAACE,KAAT,EACEC,SAAS,CAAC,kCAAD,EAAqC,GAArC,EAA0C,IAA1C,CAAT;AACH,SAXD,CAWE,OAAOC,KAAP,EAAc;AACdC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACAJ,UAAAA,SAAS,CAAC,+BAAD,EAAkC,IAAlC,CAAT;AACD;AACF,OAhBD,MAgBO;AACLA,QAAAA,SAAS,CAAC,gDAAD,EAAmD,GAAnD,CAAT;AACD;AACF,KApBD,MAoBO;AACLA,MAAAA,SAAS,CAACtB,MAAM,CAACO,QAAR,EAAkB,GAAlB,CAAT;AACD;AACF,GA1BD;;AA4BA,QAAMe,SAAS,GAAG,CAACnB,OAAD,EAAUC,KAAV,EAAiBC,OAAO,GAAG,KAA3B,KAAqC;AACrDC,IAAAA,OAAO,CAAC;AACNJ,MAAAA,IAAI,EAAE,IADA;AAENC,MAAAA,OAFM;AAGNC,MAAAA,KAHM;AAINC,MAAAA;AAJM,KAAD,CAAP;AAMD,GAPD;;AASA,QAAMU,SAAS,GAAG,MAAM;AACtBd,IAAAA,SAAS,CAAC,EAAD,CAAT;AAEA,QAAID,MAAM,GAAG,EAAb;AACA,QAAI2B,MAAM,GAAG,oEAAb;AAEA,QAAI,CAACA,MAAM,CAACC,IAAP,CAAYrB,QAAZ,CAAL,EACEP,MAAM,CAACO,QAAP,GAAmB;AACzB;AACA;AACA;AACA,iDAJM;AAMFN,IAAAA,SAAS,CAACD,MAAD,CAAT;AAEA,WAAOA,MAAP;AACD,GAhBD;;AAkBA,sBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAEY,YAAhB;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAKE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,iBADZ;AAEE,YAAA,KAAK,EAAC,eAFR;AAGE,YAAA,IAAI,EAAC,UAHP;AAIE,YAAA,IAAI,EAAC,UAJP;AAKE,YAAA,KAAK,EAAEL,QALT;AAME,YAAA,QAAQ,EAAEE,YANZ;AAOE,YAAA,OAAO,EAAEM;AAPX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBALF,eAgBE;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,SAAS,EAAC,iBADZ;AAEE,YAAA,KAAK,EAAC,uBAFR;AAGE,YAAA,IAAI,EAAC,YAHP;AAIE,YAAA,IAAI,EAAC,UAJP;AAKE,YAAA,KAAK,EAAEP,UALT;AAME,YAAA,QAAQ,EAAEC;AANZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAhBF,eA0BE;AAAA,oBACGT,MAAM,CAACO,QAAP,iBACC;AAAG,YAAA,KAAK,EAAE;AAAEsB,cAAAA,QAAQ,EAAE,MAAZ;AAAoBC,cAAAA,KAAK,EAAE;AAA3B,aAAV;AAAA,sBACG9B,MAAM,CAACO;AADV;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,gBA1BF,eAiCE,QAAC,MAAD;AACE,UAAA,OAAO,EAAC,WADV;AAEE,UAAA,SAAS,EAAER,OAAO,CAACgC,OAFrB;AAGE,UAAA,KAAK,EAAE;AACLC,YAAAA,KAAK,EAAE,MADF;AAELC,YAAAA,OAAO,EAAE,OAFJ;AAGLC,YAAAA,OAAO,EAAE,QAHJ;AAILC,YAAAA,MAAM,EAAE,QAJH;AAKLC,YAAAA,QAAQ,EAAE;AALL,WAHT;AAUE,UAAA,IAAI,EAAC,QAVP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAmDE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YAnDF,eAoDE,QAAC,MAAD;AACE,MAAA,IAAI,EAAElC,IADR;AAEE,MAAA,OAAO,EAAEC,OAFX;AAGE,MAAA,KAAK,EAAEC,KAHT;AAIE,MAAA,WAAW,EAAEM;AAJf;AAAA;AAAA;AAAA;AAAA,YApDF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6DD,CAjJM;;GAAMjB,Q;UACaF,W,EAERF,U,EACAH,S,EASiCC,O;;;KAbtCM,Q","sourcesContent":["import React, { useState } from \"react\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { useStyles } from \"../../../hooks/useStyle\";\nimport { useForm } from \"../../../hooks/useForm\";\nimport { Alerta } from \"../Alerta\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport validator from \"validator\";\n\nexport const Password = () => {\n  const { host, email } = useSelector((state) => state.registro);\n\n  const history = useHistory();\n  const classes = useStyles();\n  const [errors, setErrors] = useState({});\n  const [{ open, message, emoji, success }, setOpen] = useState({\n    open: false,\n    message: \"\",\n    emoji: \"\",\n    success: false,\n  });\n\n  const [{ password, rePassword }, handleChange] = useForm({\n    password: \"\",\n    rePassword: \"\",\n  });\n\n  const handleClose = () => {\n    setOpen({\n      open: false,\n      message: \"\",\n      emoji: \"\",\n      success: false,\n    });\n\n    if (success) history.push(\"/auth/user/login\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const errors = validForm();\n    if (Object.keys(errors).length === 0) {\n      if (password === rePassword) {\n        try {\n          const { data } = await axios.post(\n            \"https://kikoya-portal.herokuapp.com/api/v1/user/create_new_password/\",\n            {\n              host: \"sandbox001369cd406f49aa875bd8f230a0de80.mailgun.org\",\n              email: \"adrianquiroz@kikoya.io\",\n              password,\n            }\n          );\n          if (data.valid)\n            updAlerta(\"Se creo tu contraseña con éxito.\", \"✅\", true);\n        } catch (error) {\n          console.log(error.response);\n          updAlerta(\"Algo salio mal en el servidor\", \"⚠️\");\n        }\n      } else {\n        updAlerta(\"La confirmación no coincide con la contraseña.\", \"⛔\");\n      }\n    } else {\n      updAlerta(errors.password, \"⛔\");\n    }\n  };\n\n  const updAlerta = (message, emoji, success = false) => {\n    setOpen({\n      open: true,\n      message,\n      emoji,\n      success,\n    });\n  };\n\n  const validForm = () => {\n    setErrors({});\n\n    let errors = {};\n    let expreg = /^(?=.*[!@#$%^&*()--__+.])(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).{6,12}$/;\n\n    if (!expreg.test(password))\n      errors.password = `Se requiere un formato de:\n         1 mayúscula. \n         1 minúscula, \n         1 carácter especial \n         una longitud mínima de 6 y máxima de 12`;\n\n    setErrors(errors);\n\n    return errors;\n  };\n\n  return (\n    <div className=\"registro__container\">\n      <div className=\"registro__form\">\n        <form onSubmit={handleSubmit}>\n          <h1 className=\"titulo\">Crea tu contraseña 🔒</h1>\n          <p className=\"informacion_parrafo\">\n            Recuerda que tu contraseña debe tener mínimo 8 dígitos.\n          </p>\n          <div className=\"registro__containerInput\">\n            <TextField\n              className=\"registro__input\"\n              label=\"Contraseña\"\n              name=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={handleChange}\n              onKeyUp={validForm}\n            />\n          </div>\n          <div className=\"registro__containerInput\">\n            <TextField\n              className=\"registro__input\"\n              label=\"Repetir contraseña\"\n              name=\"rePassword\"\n              type=\"password\"\n              value={rePassword}\n              onChange={handleChange}\n            />\n          </div>\n          <div>\n            {errors.password && (\n              <p style={{ fontSize: \"12px\", color: \"red\" }}>\n                {errors.password}\n              </p>\n            )}\n          </div>\n          <Button\n            variant=\"contained\"\n            className={classes.primary}\n            style={{\n              width: \"100%\",\n              display: \"block\",\n              padding: \"15px 0\",\n              margin: \"15px 0\",\n              maxWidth: \"400px\",\n            }}\n            type=\"submit\"\n          >\n            FINALIZAR REGISTRO\n          </Button>\n        </form>\n      </div>\n      <div className=\"capaLogo\"></div>\n      <Alerta\n        open={open}\n        message={message}\n        emoji={emoji}\n        handleClose={handleClose}\n      />\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}